<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genmon World</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Genmon World</h1>
    <div id="connection-status">Connecting...</div>

    <div class="game-container">
        <!-- Map Area -->
        <div id="map-container">
            <div id="arena-map"> <!-- Grid for tiles -->
                <!-- Tiles generated by JS -->
                <!-- Player markers added absolutely positioned by JS -->
            </div>
        </div>


        <!-- UI Panel -->
        <div class="ui-panel">

            <!-- Player Info (Outside Battle / Swap Selection) -->
            <div id="player-info-panel" style="display: none;"> <!-- Initially hidden until connected -->
                <h2>Your Info</h2>
                <p>Money: $<span id="player-money">0</span></p> <!-- Added money display -->
                <hr>
                 <!-- Active Genmon Quick Info (Outside Battle Only) -->
                <div id="active-genmon-info" class="active-genmon-summary">
                    <h3>Active: <span id="active-genmon-name">-</span> (Lvl <span id="active-genmon-level">-</span>)</h3> <!-- Added Level -->
                    <p>HP: <span id="active-genmon-hp">-</span> / <span id="active-genmon-max-hp">-</span></p>
                    <div class="hp-bar-container">
                        <div id="active-genmon-hp-bar" class="hp-bar"></div>
                    </div>
                     <!-- Added XP Bar -->
                    <p id="active-genmon-xp-text">XP: - / -</p>
                    <div class="xp-bar-container">
                        <div id="active-genmon-xp-bar" class="xp-bar"></div>
                    </div>
                </div>
                 <!-- Team List -->
                 <h3 id="team-list-header" style="display: none;">Select Genmon to swap:</h3> <!-- Changed to h3 and updated text -->
                 <h3>Team</h3>
                <ul id="team-list">
                    <!-- Team members generated by JS -->
                </ul>
                 <!-- Cancel Swap button added here by JS -->
            </div>

            <!-- Battle Interface -->
            <div id="battle-interface" style="display: none;">
                 <h2>Battle!</h2>
                 <div class="battle-sides-container">
                     <!-- Player Side -->
                     <div id="battle-player-info" class="battle-participant">
                         <img id="battle-player-sprite" src="" alt="Player Genmon" style="display: none;">
                         <h3>You (<span id="battle-player-genmon-name">-</span> Lvl <span id="battle-player-genmon-level">-</span>)</h3> <!-- Added Level -->
                         <p>HP: <span id="battle-player-hp">-</span> / <span id="battle-player-max-hp">-</span></p>
                         <div class="hp-bar-container">
                             <div id="battle-player-hp-bar" class="hp-bar"></div>
                         </div>
                          <!-- Added XP Bar for player side only -->
                          <div class="xp-bar-container">
                              <div id="battle-player-xp-bar" class="xp-bar"></div>
                          </div>
                     </div>
                     <!-- Opponent Side -->
                     <div id="battle-opponent-info" class="battle-participant">
                         <img id="battle-opponent-sprite" src="" alt="Opponent Genmon" style="display: none;">
                          <h3><span id="battle-opponent-name">Opponent</span> (<span id="battle-opponent-genmon-name">-</span> Lvl <span id="battle-opponent-genmon-level">-</span>)</h3> <!-- Added Level -->
                          <p>HP: <span id="battle-opponent-hp">-</span> / <span id="battle-opponent-max-hp">-</span></p>
                          <div class="hp-bar-container">
                              <div id="battle-opponent-hp-bar" class="hp-bar"></div>
                          </div>
                          <!-- Opponent XP bar usually hidden, so not added here -->
                     </div>
                 </div>

                 <!-- Battle Controls -->
                 <div id="battle-controls">
                    <p id="battle-turn-indicator">Waiting for battle...</p>

                    <!-- Action Buttons (Fight, Catch, Swap, Flee) -->
                    <div id="action-buttons" class="action-buttons-grid" style="display: none;">
                        <button id="fight-button">Fight</button>
                        <button id="catch-button" style="display: none;">Catch</button>
                        <button id="swap-button">Swap</button>
                        <button id="flee-button" style="display: none;">Flee</button>
                    </div>

                    <!-- Move Selection Buttons -->
                    <div id="move-buttons" class="move-buttons-grid" style="display: none;">
                        <!-- Move buttons generated by JS -->
                    </div>
                 </div>

                 <!-- Battle Log -->
                <div id="battle-log-container"> <!-- Added container for scrolling -->
                    <h3>Log</h3>
                    <ul id="battle-log"></ul>
                </div>
            </div>

             <!-- Duel Request Prompt -->
             <div id="duel-prompt" class="prompt" style="display: none;">
                 <p><span id="duel-requester-name">Player</span> wants to duel!</p>
                 <button id="accept-duel-button">Accept</button>
                 <button id="decline-duel-button">Decline</button>
             </div>

        </div>
    </div>

    <script src="client.js"></script>
</body>
</html>